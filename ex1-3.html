<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>강귀요미 칭찬스티커 🧸</title>
    <style>
      /* 기본 및 폰트 */
      body {
        margin: 0;
        font-family: "맑은 고딕", "Malgun Gothic", sans-serif;
        background: #fff8f0;
        color: #333;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        background-image: linear-gradient(to right, #fff1f3, #fdf7f3);
      }

      /* 페이지 최대 폭 */
      .wrapper {
        max-width: 1200px;
        margin: 0 auto;
        width: 100%;
      }

      /* 탭 메뉴 컨테이너 */
      .tab-container {
        display: flex;
        background-color: #a6b0b1;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      }

      /* 탭 버튼 */
      .tab {
        flex: 1;
        padding: 18px 0;
        text-align: center;
        font-size: 1.2rem;
        font-weight: 600;
        border: none;
        outline: none;
        cursor: pointer;
        color: white;
        background: #a6b0b1;
        transition: background-color 0.3s ease;
        user-select: none;
      }
      .tab:hover {
        background-color: #888f90;
      }
      .tab.active {
        background-color: #ff6b81;
        font-weight: 700;
        box-shadow: inset 0 -4px 0 #d6455b;
      }

      /* 콘텐츠 영역 */
      .content {
        display: none;
        padding: 40px 50px;
        background: white;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        border-radius: 0 0 16px 16px;
        min-height: 600px;
        margin-bottom: 40px;
      }
      .content.active {
        display: block;
      }

      /* 제목 */
      h1 {
        text-align: center;
        margin-bottom: 30px;
        color: #ff6b81;
      }

      /* About 내용 형식 */
      .profile {
        text-align: center;
      }
      .profile img {
        width: 160px;
        height: 160px;
        border-radius: 50%;
        object-fit: cover;
        margin-bottom: 20px;
        border: 5px solid #ffb3c6;
      }
      .profile h2 {
        font-size: 1.8rem;
        color: #444;
      }
      .profile p {
        font-size: 1.1rem;
        color: #666;
        line-height: 1.6;
        max-width: 600px;
        margin: 10px auto;
      }

      /* 메모 */
      .memo textarea {
        width: 100%;
        height: 300px;
        padding: 20px;
        font-size: 1rem;
        border-radius: 12px;
        border: 1px solid #ccc;
        resize: vertical;
        box-shadow: inset 0 2px 6px #fff2f4;
      }

      /* 하트 기념일 */
      .event-list {
        display: flex;
        flex-direction: column;
        gap: 16px;
        max-width: 600px;
        margin: 0 auto;
      }
      .event {
        background: #ffe3e8;
        border-left: 8px solid #ff6b81;
        padding: 16px 20px;
        border-radius: 12px;
        box-shadow: 0 3px 10px rgba(255, 107, 129, 0.2);
      }
      .event h3 {
        margin: 0;
        color: #d6455b;
        font-size: 1.3rem;
      }
      .event p {
        margin: 6px 0 0;
        color: #555;
      }

      /* 스티커판 - 이전 CSS와 동일하게 유지 */
      .grid {
        display: grid;
        grid-template-columns: repeat(5, 1fr);
        gap: 12px;
        margin-bottom: 20px;
      }
      .cell {
        position: relative;
        width: 100%;
        padding-top: 100%;
        background-color: #fceae9;
        border-radius: 14px;
        box-shadow: 0 3px 6px rgba(255, 107, 129, 0.3);
        cursor: default;
        transition: background-color 0.3s ease;
      }
      .cell:hover {
        background-color: #ffd6dc;
      }
      .cell span {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 2.8rem;
        user-select: none;
      }
      #praiseInput,
      #saveBtn,
      #monthSelect {
        display: block;
        margin: 0 auto;
        margin-top: 10px;
      }

      /* 칭찬 텍스트 입력 및 버튼 */
      #praiseInput {
        width: 100%;
        max-width: 400px;
        padding: 12px 15px;
        font-size: 1rem;
        border-radius: 12px;
        border: 1px solid #ddd;
      }
      #saveBtn {
        padding: 12px 28px;
        font-size: 1.1rem;
        background: #ff6b81;
        color: white;
        border: none;
        border-radius: 12px;
        cursor: pointer;
        margin-top: 12px;
      }
    </style>
  </head>
  <body>
    <div class="wrapper">
      <!-- 탭 메뉴 -->
      <div class="tab-container">
        <button class="tab active" onclick="openMenu('about', this)">
          About
        </button>
        <button class="tab" onclick="openMenu('memo', this)">Memo</button>
        <button class="tab" onclick="openMenu('love', this)">♥</button>
        <button class="tab" onclick="openMenu('sticker', this)">스티커</button>
      </div>

      <!-- About -->
      <div id="about" class="content active">
        <div class="profile">
          <div class="profile-img"></div>
          <div class="profile-text">
            <h2>🐻 강귀요미</h2>
            <p>우리집 요미는요!!</p>
          </div>
        </div>
        <hr />
        <p><strong>MBTI:</strong> INFJ</p>
        <p><strong>좋아하는 것:</strong> 축구, 야구 등 운동하기, 요미 🍰</p>
        <p><strong>특징:</strong> 우주세계최고귀요미 💕</p>
        <p><strong>장점:</strong> 잘생김</p>
      </div>

      <!-- Memo -->
      <div id="memo" class="content">
        <h2>📅 공유 메모</h2>
        <p>일정!</p>
        <ul class="memo-list">
          <li>6/7 - 컴활 시험치기</li>
          <li>6/12 - 이러닝 시험치기</li>
          <li>6/16 - 기말 시험 두개 치기</li>
          <li>6/18 - 과제 제출 마감</li>
        </ul>
      </div>

      <!-- Love (기념일) -->
      <div id="love" class="content">
        <h1>기념일</h1>
        <div class="event-list">
          <div class="event">
            <h3>처음 만난 날 💕</h3>
            <p>2024년 11월 10일</p>
          </div>
          <div class="event">
            <h3>100일 🎉</h3>
            <p>2025년 02월 17일</p>
          </div>
          <div class="event">
            <h3>200일 🎉</h3>
            <p>2025년 05월 28일</p>
          </div>
          <div class="event">
            <h3>300일 🎉</h3>
            <p>2025년 09월 05일</p>
          </div>
          <div class="event">
            <h3>1주년 🎂</h3>
            <p>2025년 11월 10일</p>
          </div>
        </div>
      </div>

      <!-- 스티커 -->
      <div id="sticker" class="content">
        <h1>칭찬 스티커판 🧸</h1>
        <select id="monthSelect"></select>
        <div class="grid" id="stickerGrid"></div>
        <input
          type="text"
          id="praiseInput"
          placeholder="칭찬 내용을 입력하세요 😊"
        />
        <button id="saveBtn">저장하기</button>
        
      </div>
    </div>

    <script>
      // 탭 전환 함수
      const tabs = document.querySelectorAll(".tab");
      const contents = document.querySelectorAll(".content");

      function openMenu(targetId, clickedTab) {
        contents.forEach((c) => c.classList.remove("active"));
        tabs.forEach((t) => t.classList.remove("active"));
        document.getElementById(targetId).classList.add("active");
        clickedTab.classList.add("active");
        if (targetId === "sticker") loadMonthData(monthSelect.value);
      }

      // 스티커판
      const bearEmoji = "🧸";
      const grid = document.getElementById("stickerGrid");
      const praiseInput = document.getElementById("praiseInput");
      const saveBtn = document.getElementById("saveBtn");
      const monthSelect = document.getElementById("monthSelect");
      const now = new Date();
      const currentMonth = `${now.getFullYear()}-${String(
        now.getMonth() + 1
      ).padStart(2, "0")}`;
      let currentData = [];

      for (let i = 0; i < 12; i++) {
        const date = new Date(now.getFullYear(), i);
        const value = `${date.getFullYear()}-${String(i + 1).padStart(2, "0")}`;
        const option = document.createElement("option");
        option.value = value;
        option.textContent = `${date.getFullYear()}년 ${i + 1}월`;
        if (value === currentMonth) option.selected = true;
        monthSelect.appendChild(option);
      }

      function loadMonthData(month) {
        currentData = JSON.parse(
          localStorage.getItem("sticker_" + month) || "[]"
        );
        renderGrid();
      }

      function renderGrid() {
        grid.innerHTML = "";

        for (let i = 0; i < 10; i++) {
          const cell = document.createElement("div");
          cell.className = "cell";

          // 채워진 데이터가 있을 때만 🧸 스티커 추가
          if (currentData[i]) {
            const span = document.createElement("span");
            span.textContent = currentData[i].emoji; // 🧸
            span.title = currentData[i].praise;
            span.onclick = (e) => {
              e.stopPropagation();
              alert("칭찬 내용: " + currentData[i].praise);
            };
            cell.appendChild(span);
          }

          grid.appendChild(cell);
        }
      }

      saveBtn.onclick = () => {
        const praise = praiseInput.value.trim();
        if (!praise) {
          alert("칭찬 내용을 입력해주세요.");
          return;
        }

        let emptyIndex = currentData.findIndex((item) => !item);
        if (emptyIndex === -1 && currentData.length < 10) {
          emptyIndex = currentData.length;
        }

        if (emptyIndex === -1 || emptyIndex >= 10) {
          alert("이번 달 칭찬 10개를 모두 완료했어요!");
          return;
        }

        const newItem = {
          emoji: bearEmoji,
          praise: praise,
        };

        currentData[emptyIndex] = newItem;
        localStorage.setItem(
          "sticker_" + monthSelect.value,
          JSON.stringify(currentData)
        );

        praiseInput.value = "";
        renderGrid();

        if (currentData.filter((item) => item).length === 10) {
          showCelebration();
        }
      };

      // 초기 로딩
      window.onload = () => {
        loadMonthData(currentMonth);
      };
    </script>
  </body>
</html>
