<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>ê°•ê·€ìš”ë¯¸ ì¹­ì°¬ìŠ¤í‹°ì»¤ ğŸ§¸</title>
    <style>
      /* ê¸°ë³¸ ë° í°íŠ¸ */
      body {
        margin: 0;
        font-family: "ë§‘ì€ ê³ ë”•", "Malgun Gothic", sans-serif;
        background: #fff8f0;
        color: #333;
        min-height: 100vh;
        display: flex;
        flex-direction: column;
        background-image: linear-gradient(to right, #fff1f3, #fdf7f3);
      }

      /* í˜ì´ì§€ ìµœëŒ€ í­ */
      .wrapper {
        max-width: 1200px;
        margin: 0 auto;
        width: 100%;
      }

      /* íƒ­ ë©”ë‰´ ì»¨í…Œì´ë„ˆ */
      .tab-container {
        display: flex;
        background-color: #a6b0b1;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      }

      /* íƒ­ ë²„íŠ¼ */
      .tab {
        flex: 1;
        padding: 18px 0;
        text-align: center;
        font-size: 1.2rem;
        font-weight: 600;
        border: none;
        outline: none;
        cursor: pointer;
        color: white;
        background: #a6b0b1;
        transition: background-color 0.3s ease;
        user-select: none;
      }
      .tab:hover {
        background-color: #888f90;
      }
      .tab.active {
        background-color: #ff6b81;
        font-weight: 700;
        box-shadow: inset 0 -4px 0 #d6455b;
      }

      /* ì½˜í…ì¸  ì˜ì—­ */
      .content {
        display: none;
        padding: 40px 50px;
        background: white;
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        border-radius: 0 0 16px 16px;
        min-height: 600px;
        margin-bottom: 40px;
      }
      .content.active {
        display: block;
      }

      /* ì œëª© */
      h1 {
        text-align: center;
        margin-bottom: 30px;
        color: #ff6b81;
      }

      /* About ë‚´ìš© í˜•ì‹ */
      .profile {
        text-align: center;
      }
      .profile img {
        width: 160px;
        height: 160px;
        border-radius: 50%;
        object-fit: cover;
        margin-bottom: 20px;
        border: 5px solid #ffb3c6;
      }
      .profile h2 {
        font-size: 1.8rem;
        color: #444;
      }
      .profile p {
        font-size: 1.1rem;
        color: #666;
        line-height: 1.6;
        max-width: 600px;
        margin: 10px auto;
      }

      /* ë©”ëª¨ */
      .memo textarea {
        width: 100%;
        height: 300px;
        padding: 20px;
        font-size: 1rem;
        border-radius: 12px;
        border: 1px solid #ccc;
        resize: vertical;
        box-shadow: inset 0 2px 6px #fff2f4;
      }

      /* í•˜íŠ¸ ê¸°ë…ì¼ */
      .event-list {
        display: flex;
        flex-direction: column;
        gap: 16px;
        max-width: 600px;
        margin: 0 auto;
      }
      .event {
        background: #ffe3e8;
        border-left: 8px solid #ff6b81;
        padding: 16px 20px;
        border-radius: 12px;
        box-shadow: 0 3px 10px rgba(255, 107, 129, 0.2);
      }
      .event h3 {
        margin: 0;
        color: #d6455b;
        font-size: 1.3rem;
      }
      .event p {
        margin: 6px 0 0;
        color: #555;
      }

      /* ìŠ¤í‹°ì»¤íŒ - ì´ì „ CSSì™€ ë™ì¼í•˜ê²Œ ìœ ì§€ */
      .grid {
        display: grid;
        grid-template-columns: repeat(5, 1fr);
        gap: 12px;
        margin-bottom: 20px;
      }
      .cell {
        position: relative;
        width: 100%;
        padding-top: 100%;
        background-color: #fceae9;
        border-radius: 14px;
        box-shadow: 0 3px 6px rgba(255, 107, 129, 0.3);
        cursor: default;
        transition: background-color 0.3s ease;
      }
      .cell:hover {
        background-color: #ffd6dc;
      }
      .cell span {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        font-size: 2.8rem;
        user-select: none;
      }
      #praiseInput,
      #saveBtn,
      #monthSelect {
        display: block;
        margin: 0 auto;
        margin-top: 10px;
      }

      /* ì¹­ì°¬ í…ìŠ¤íŠ¸ ì…ë ¥ ë° ë²„íŠ¼ */
      #praiseInput {
        width: 100%;
        max-width: 400px;
        padding: 12px 15px;
        font-size: 1rem;
        border-radius: 12px;
        border: 1px solid #ddd;
      }
      #saveBtn {
        padding: 12px 28px;
        font-size: 1.1rem;
        background: #ff6b81;
        color: white;
        border: none;
        border-radius: 12px;
        cursor: pointer;
        margin-top: 12px;
      }
    </style>
  </head>
  <body>
    <div class="wrapper">
      <!-- íƒ­ ë©”ë‰´ -->
      <div class="tab-container">
        <button class="tab active" onclick="openMenu('about', this)">
          About
        </button>
        <button class="tab" onclick="openMenu('memo', this)">Memo</button>
        <button class="tab" onclick="openMenu('love', this)">â™¥</button>
        <button class="tab" onclick="openMenu('sticker', this)">ìŠ¤í‹°ì»¤</button>
      </div>

      <!-- About -->
      <div id="about" class="content active">
        <div class="profile">
          <div class="profile-img"></div>
          <div class="profile-text">
            <h2>ğŸ» ê°•ê·€ìš”ë¯¸</h2>
            <p>ìš°ë¦¬ì§‘ ìš”ë¯¸ëŠ”ìš”!!</p>
          </div>
        </div>
        <hr />
        <p><strong>MBTI:</strong> INFJ</p>
        <p><strong>ì¢‹ì•„í•˜ëŠ” ê²ƒ:</strong> ì¶•êµ¬, ì•¼êµ¬ ë“± ìš´ë™í•˜ê¸°, ìš”ë¯¸ ğŸ°</p>
        <p><strong>íŠ¹ì§•:</strong> ìš°ì£¼ì„¸ê³„ìµœê³ ê·€ìš”ë¯¸ ğŸ’•</p>
        <p><strong>ì¥ì :</strong> ì˜ìƒê¹€</p>
      </div>

      <!-- Memo -->
      <div id="memo" class="content">
        <h2>ğŸ“… ê³µìœ  ë©”ëª¨</h2>
        <p>ì¼ì •!</p>
        <ul class="memo-list">
          <li>6/7 - ì»´í™œ ì‹œí—˜ì¹˜ê¸°</li>
          <li>6/12 - ì´ëŸ¬ë‹ ì‹œí—˜ì¹˜ê¸°</li>
          <li>6/16 - ê¸°ë§ ì‹œí—˜ ë‘ê°œ ì¹˜ê¸°</li>
          <li>6/18 - ê³¼ì œ ì œì¶œ ë§ˆê°</li>
        </ul>
      </div>

      <!-- Love (ê¸°ë…ì¼) -->
      <div id="love" class="content">
        <h1>ê¸°ë…ì¼</h1>
        <div class="event-list">
          <div class="event">
            <h3>ì²˜ìŒ ë§Œë‚œ ë‚  ğŸ’•</h3>
            <p>2024ë…„ 11ì›” 10ì¼</p>
          </div>
          <div class="event">
            <h3>100ì¼ ğŸ‰</h3>
            <p>2025ë…„ 02ì›” 17ì¼</p>
          </div>
          <div class="event">
            <h3>200ì¼ ğŸ‰</h3>
            <p>2025ë…„ 05ì›” 28ì¼</p>
          </div>
          <div class="event">
            <h3>300ì¼ ğŸ‰</h3>
            <p>2025ë…„ 09ì›” 05ì¼</p>
          </div>
          <div class="event">
            <h3>1ì£¼ë…„ ğŸ‚</h3>
            <p>2025ë…„ 11ì›” 10ì¼</p>
          </div>
        </div>
      </div>

      <!-- ìŠ¤í‹°ì»¤ -->
      <div id="sticker" class="content">
        <h1>ì¹­ì°¬ ìŠ¤í‹°ì»¤íŒ ğŸ§¸</h1>
        <select id="monthSelect"></select>
        <div class="grid" id="stickerGrid"></div>
        <input
          type="text"
          id="praiseInput"
          placeholder="ì¹­ì°¬ ë‚´ìš©ì„ ì…ë ¥í•˜ì„¸ìš” ğŸ˜Š"
        />
        <button id="saveBtn">ì €ì¥í•˜ê¸°</button>
        
      </div>
    </div>

    <script>
      // íƒ­ ì „í™˜ í•¨ìˆ˜
      const tabs = document.querySelectorAll(".tab");
      const contents = document.querySelectorAll(".content");

      function openMenu(targetId, clickedTab) {
        contents.forEach((c) => c.classList.remove("active"));
        tabs.forEach((t) => t.classList.remove("active"));
        document.getElementById(targetId).classList.add("active");
        clickedTab.classList.add("active");
        if (targetId === "sticker") loadMonthData(monthSelect.value);
      }

      // ìŠ¤í‹°ì»¤íŒ
      const bearEmoji = "ğŸ§¸";
      const grid = document.getElementById("stickerGrid");
      const praiseInput = document.getElementById("praiseInput");
      const saveBtn = document.getElementById("saveBtn");
      const monthSelect = document.getElementById("monthSelect");
      const now = new Date();
      const currentMonth = `${now.getFullYear()}-${String(
        now.getMonth() + 1
      ).padStart(2, "0")}`;
      let currentData = [];

      for (let i = 0; i < 12; i++) {
        const date = new Date(now.getFullYear(), i);
        const value = `${date.getFullYear()}-${String(i + 1).padStart(2, "0")}`;
        const option = document.createElement("option");
        option.value = value;
        option.textContent = `${date.getFullYear()}ë…„ ${i + 1}ì›”`;
        if (value === currentMonth) option.selected = true;
        monthSelect.appendChild(option);
      }

      function loadMonthData(month) {
        currentData = JSON.parse(
          localStorage.getItem("sticker_" + month) || "[]"
        );
        renderGrid();
      }

      function renderGrid() {
        grid.innerHTML = "";

        for (let i = 0; i < 10; i++) {
          const cell = document.createElement("div");
          cell.className = "cell";

          // ì±„ì›Œì§„ ë°ì´í„°ê°€ ìˆì„ ë•Œë§Œ ğŸ§¸ ìŠ¤í‹°ì»¤ ì¶”ê°€
          if (currentData[i]) {
            const span = document.createElement("span");
            span.textContent = currentData[i].emoji; // ğŸ§¸
            span.title = currentData[i].praise;
            span.onclick = (e) => {
              e.stopPropagation();
              alert("ì¹­ì°¬ ë‚´ìš©: " + currentData[i].praise);
            };
            cell.appendChild(span);
          }

          grid.appendChild(cell);
        }
      }

      saveBtn.onclick = () => {
        const praise = praiseInput.value.trim();
        if (!praise) {
          alert("ì¹­ì°¬ ë‚´ìš©ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.");
          return;
        }

        let emptyIndex = currentData.findIndex((item) => !item);
        if (emptyIndex === -1 && currentData.length < 10) {
          emptyIndex = currentData.length;
        }

        if (emptyIndex === -1 || emptyIndex >= 10) {
          alert("ì´ë²ˆ ë‹¬ ì¹­ì°¬ 10ê°œë¥¼ ëª¨ë‘ ì™„ë£Œí–ˆì–´ìš”!");
          return;
        }

        const newItem = {
          emoji: bearEmoji,
          praise: praise,
        };

        currentData[emptyIndex] = newItem;
        localStorage.setItem(
          "sticker_" + monthSelect.value,
          JSON.stringify(currentData)
        );

        praiseInput.value = "";
        renderGrid();

        if (currentData.filter((item) => item).length === 10) {
          showCelebration();
        }
      };

      // ì´ˆê¸° ë¡œë”©
      window.onload = () => {
        loadMonthData(currentMonth);
      };
    </script>
  </body>
</html>
